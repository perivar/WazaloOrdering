@{
    ViewData["Title"] = "Index";
}

<h2>Orders</h2>

@model IEnumerable<ShopifyOrder>

<table class="table">
<tbody>
@foreach(ShopifyOrder order in Model) 
{
    <tr>
        <td>@order.Id</td>
        <td>@order.Name</td>
        <td>@order.TotalPrice</td>
    </tr>

    @foreach(ShopifyOrderLineItem lineItem in order.LineItems) 
    {
    <tr>
        <td>@lineItem.Quantity</td>
        <td>@lineItem.Sku</td>
        <td>@lineItem.Title</td>
    </tr>
    }

    @if (order.Fulfillments != null)
    {
        @foreach(ShopifyOrderFulfillment fulfillment in order.Fulfillments) 
        {
        <tr>
            <td>@fulfillment.Id</td>
            <td>@fulfillment.Status</td>
            <td>@fulfillment.TrackingNumber</td>
            <td>@fulfillment.TrackingUrl</td>            
        </tr>
        }
    }
}

</tbody>
</table>

    

